
<div class="row">
  <div class="col-md-12" id="transactionHistory">
    <div class="m-b-15">
      <h1 class="lang" key="Transaction">Transaction History</h1>
      <hr />
      <br />
    </div>

    <table
      id="example"
      class="table table-striped table-bordered"
      style="width: 100%"
    >
      <thead>
        <tr>
          <th class="lang" key="Date">Date</th>
          <th class="lang" key="Category">Category</th>
          <th>Mode</th>
          <th class="lang" key="Amount">Amount</th>
          <th class="lang" key="Comments">Comments</th>
          <th class="lang" key="EditDel">Edit/Delete</th>
        </tr>
      </thead>
      <tbody>
        <% for( let i = 0; i < transactionData.length; i++ ) { %>
        <tr>
          <td><%- moment(transactionData[i].date).format('Do MMMM YYYY') %></td>
          <td><%- transactionData[i].category %></td>

          <% if (transactionData[i].type === 'Income') { %>
          <td style="background-color: rgba(0, 128, 0, 0.5)">
            $<%- transactionData[i].amount.toFixed(2) %>
          </td>
          <% } else { %>
          <td style="background-color: rgba(255, 0, 0, 0.5)">
            $<%- transactionData[i].amount.toFixed(2) %>
          </td>
          <% } %>
          <td><%- transactionData[i].mode %></td>
          <td><%- transactionData[i].comment %></td>

          <td id="updateDelete">
            <a
              href="edit_transaction/<%- transactionData[i]._id %>"
              class="text-decoration-none"
              ><i class="fas fa-edit"></i
            ></a>
            <form
              action="/<%- transactionData[i]._id %>"
              method="post"
              id="delete-form"
            >
              <input type="hidden" name="_method" value="delete" />
              <button type="submit" class="btn">
                <i class="fas fa-trash-alt"></i>
              </button>
            </form>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>
